<!DOCTYPE html>
<html>
  <%- include('../includes/head') %>

  <body class="bg-gray-600 text-gray-50 min-h-screen flex flex-col">
    <%- include('../includes/header') %>

    <div class="grid grid-cols-1 md:grid-cols-6 flex-1">
      <%- include('../includes/sidebar') %>

      <div class="flex flex-col col-span-5 lg:pr-16 px-4 lg:px-0">
        <section
          class="flex flex-col md:flex-row items-center w-full justify-between pr-4 py-4 border-b border-b-gray-50"
        >
          <h3 class="text-lg font-medium">Commands</h3>
          <ol class="flex flex-row items-center space-x-4">
            <li>
              <a href="/"><i class="fa fa-home mr-2"></i>Selector</a>
            </li>
            <i class="fa fa-angle-right"></i>
            <li><a href="<%=`/manage/${guild.id}/`%>"> <%=guild.name%> </a></li>
            <i class="fa fa-angle-right"></i>
            <li class="underline">Commands</li>
          </ol>
        </section>

        <section class="grid grid-cols-1 gap-4 my-4">
          <div class="flex flex-col rounded-lg border border-gray-50 h-[fit-content]">
            <div class="border-b border-b-gray-50 p-4">
              <h3 class="font-semibold">Commands Configuration</h3>
            </div>
            <form role="form" action="/manage/<%= guild.id %>/commands/" method="POST" class="p-4">
              <div class="grid grid-cols-4 gap-4">
                <% commands.map(command => { %>
                <div class="flex flex-row items-center">
                  <label class="switch">
                    <% if(command.disabled) { %>
                    <input type="checkbox" name="<%= command.name %>" />
                    <% } else { %>
                    <input type="checkbox" name="<%= command.name %>" checked />
                    <% } %>
                    <span class="slider round"></span>
                  </label>
                  <span class="ml-2"><%= command.name %></span>
                </div>
                <% }) %>
              </div>
              <div class="mt-4">
                <button
                  type="submit"
                  name="commandsUpdate"
                  class="px-3 py-1 rounded-md bg-cyan-700 transition-opacity duration-300 hover:opacity-70"
                >
                  Update
                </button>
              </div>
            </form>
          </div>
        </section>
      </div>
    </div>
    <%- include('../includes/footer') %>
  </body>
</html>
